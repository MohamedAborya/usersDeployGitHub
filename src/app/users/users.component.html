<div class="container">
    <button pButton type="button" icon="pi pi-plus" (click)="showDialog()" label="Add"></button>
    <p-table
        [columns]="cols"
        [value]="users"
        [paginator]="true"
        [rows]="5"
        sortMode="multiple"
        [scrollable]="true"
        [responsive]="true"
    >
        <ng-template pTemplate="header" let-columns>
            <tr>
                <th
                    *ngFor="let col of columns"
                    [pSortableColumn]="col.field"
                >
                    {{col.header}}
                    <p-sortIcon [field]="col.field"></p-sortIcon>
                </th>
                <th>
                    Action
                </th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-rowData let-columns="columns">
            <tr>
                <td *ngFor="let col of columns">
                        {{rowData[col.field]}}
                </td>
                <td>
                    <div class="p-grid">
                        <div class="p-col">
                            <button class="ui-button-info" style="width: 60px;"  pButton type="button" icon="pi pi-user-edit" (click)="editUser(rowData['id'])">
                            </button>
                        </div>
                        <div class="p-col">
                            <button class="ui-button-danger" style="width: 60px;"  pButton type="button" icon="pi pi-times" (click)="confirm(rowData['id'])">
                            </button>
                        </div>
                    </div>
                </td>
            </tr>
        </ng-template>
    </p-table>

    <router-outlet></router-outlet>

    <p-confirmDialog header="Confirmation" icon="pi pi-exclamation-triangle"></p-confirmDialog>

</div>

<div class="container">
    <p-treeTable [value]="chartData" [columns]="cols">
        <ng-template pTemplate="header" let-columns>
            <tr>
                <th *ngFor="let col of columns">
                    {{col.header}}
                </th>
                <th>
                    Action
                </th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-rowNode let-rowData="rowData" let-columns="columns">
            <tr>
                <td *ngFor="let col of columns; let i = index">
                    <p-treeTableToggler [rowNode]="rowNode" *ngIf="i == 0"></p-treeTableToggler>
                    {{rowData[col.field]}}
                </td>
                <td>
                    <div class="p-grid">
                        <div class="p-col">
                            <button class="ui-button-info" style="width: 60px;"  pButton type="button" icon="pi pi-user-edit" (click)="editUser(rowData['id'])">
                            </button>
                        </div>
                        <div class="p-col">
                            <button class="ui-button-danger" style="width: 60px;"  pButton type="button" icon="pi pi-times" (click)="confirm(rowData['id'])">
                            </button>
                        </div>
                    </div>
                </td>
            </tr>
        </ng-template>
    </p-treeTable>
</div>